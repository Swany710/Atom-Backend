# Atom Backend Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================
# DATABASE CONFIGURATION
# ============================================

# PostgreSQL database URL
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:password@localhost:5432/atom_backend

# Database connection details (alternative to DATABASE_URL)
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=your_password
DATABASE_NAME=atom_backend

# ============================================
# JWT AUTHENTICATION
# ADDED: Required for user authentication system
# ============================================

# JWT secret for access tokens (use a strong random string)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-min-32-characters

# JWT refresh token secret (different from JWT_SECRET)
JWT_REFRESH_SECRET=your-jwt-refresh-secret-min-32-characters

# Token expiration times
JWT_EXPIRATION=7d
JWT_REFRESH_EXPIRATION=30d

# ============================================
# GOOGLE OAUTH 2.0 (Gmail & Drive)
# ADDED: Required for Gmail and Google Drive integration
# ============================================

# Google OAuth Client ID (from Google Cloud Console)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com

# Google OAuth Client Secret
GOOGLE_CLIENT_SECRET=your-google-client-secret

# OAuth redirect URI (update with your actual domain)
GOOGLE_REDIRECT_URI=http://localhost:3000/gmail/callback

# ============================================
# OPENAI API
# Required for AI features, embeddings, and transcription
# ============================================

# OpenAI API key
OPENAI_API_KEY=sk-your-openai-api-key-here

# ============================================
# TAVILY WEB SEARCH API
# ADDED: Required for web search functionality
# ============================================

# Tavily API key (get from https://tavily.com)
TAVILY_API_KEY=tvly-your-tavily-api-key-here

# ============================================
# MICROSOFT GRAPH API (Outlook & Calendar)
# Optional: Only needed if using Microsoft services
# ============================================

# Microsoft Azure AD credentials
MICROSOFT_TENANT_ID=your-tenant-id
MICROSOFT_CLIENT_ID=your-client-id
MICROSOFT_CLIENT_SECRET=your-client-secret
MICROSOFT_USER_EMAIL=your-email@domain.com

# ============================================
# APPLICATION CONFIGURATION
# ============================================

# Application port
PORT=3000

# Node environment
NODE_ENV=development

# CORS allowed origins (comma-separated)
# UPDATED: Configure for your frontend domain
FRONTEND_URL=http://localhost:3000,http://localhost:3001

# ============================================
# N8N INTEGRATION (Optional)
# ============================================

# N8N webhook URL for automation
N8N_WEBHOOK_URL=https://your-n8n-instance.up.railway.app
N8N_API_KEY=your-n8n-api-key

# ============================================
# NOTES & INSTRUCTIONS
# ============================================
#
# SETUP INSTRUCTIONS:
#
# 1. DATABASE SETUP:
#    - Install PostgreSQL locally or use a cloud provider
#    - Enable pgvector extension: CREATE EXTENSION vector;
#    - Update DATABASE_URL with your credentials
#
# 2. JWT SECRETS:
#    - Generate strong secrets: openssl rand -base64 32
#    - Never commit actual secrets to version control
#
# 3. GOOGLE OAUTH:
#    - Create a project in Google Cloud Console
#    - Enable Gmail API and Google Drive API
#    - Create OAuth 2.0 credentials (Web application)
#    - Add redirect URI: http://localhost:3000/gmail/callback
#    - For production, update GOOGLE_REDIRECT_URI
#
# 4. OPENAI:
#    - Get API key from https://platform.openai.com
#    - Required for voice transcription, embeddings, and chat
#
# 5. TAVILY:
#    - Sign up at https://tavily.com
#    - Get API key for web search functionality
#    - Free tier available for testing
#
# 6. PRODUCTION DEPLOYMENT:
#    - Update all URLs to use HTTPS
#    - Use environment-specific secrets
#    - Set NODE_ENV=production
#    - Configure CORS properly
#
